<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Checklist</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="header-description">
    <h1>Organize Your Administrative Tasks</h1>
    <p>
      Track, complete, and access helpful resources for each task. Make administration simple with this interactive
      checklist.
    </p>
  </div>

  <ion-list>
    <ion-item *ngFor="let task of tasks">
      <ion-label>
        <h2>{{ task.title }}</h2>
        <p>{{ task.description }}</p>
        <a *ngIf="task.link" [href]="task.link" target="_blank">Guide</a>
      </ion-label>
      <ion-checkbox
        slot="end"
        [checked]="task.completed"
        (ionChange)="toggleCompleted(task)">
      </ion-checkbox>
    </ion-item>
  </ion-list>

  <!-- Bouton for only  admins and mod -->
  <ion-button
    expand="block"
    color="primary"
    *ngIf="userRole === 'admin' || userRole === 'moderator'"
    (click)="goToCreateTask()">
    Create a task
  </ion-button>


</ion-content>
